function fadeOutPreloader(t,e){var n=1,i=setInterval(function(){n<=0?(t.style.zIndex=0,t.style.opacity=0,t.style.filter="alpha(opacity = 0)",document.documentElement.style.overflowY="auto",document.getElementById("preloader").remove(),clearInterval(i)):(n-=.1,t.style.opacity=n,t.style.filter="alpha(opacity = "+100*n+")")},e)}setTimeout(function(){fadeOutPreloader(document.getElementById("preloader"),69)},1500),$(document).ready(function(){particlesJS.load("landing","assets/particles.json",function(){});var t=document.getElementById("txt-rotate"),e=t.getAttribute("data-rotate"),n=t.getAttribute("data-period"),i=(setTimeout(function(){new TxtRotate(t,JSON.parse(e),n)},1500),document.createElement("style"));i.type="text/css",i.innerHTML="#txt-rotate > .wrap { border-right: 0.08em solid #666 }",document.body.appendChild(i),AOS.init({disable:"mobile",offset:200,duration:600,easing:"ease-in-sine",delay:100,once:!0}),randomizeOrder(),initSectionDock(),sortNewsFeedByDate(),sortJournalClubFeedByDate(),initCoffeeWallLayout(),initLogoRain()});var TxtRotate=function(t,e,n){this.toRotate=e,this.el=t,this.loopNum=0,this.period=parseInt(n,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};function randomizeOrder(){var t=document.getElementById("skills");if(t){for(var e=t.getElementsByTagName("div"),n=document.createDocumentFragment();e.length;)n.appendChild(e[Math.floor(Math.random()*e.length)]);t.appendChild(n)}}function initSectionDock(){var r,o,s,l,c,d,u,i,g,f,h,m,p,w,t,e,n,a,y,b,v,M,x=document.getElementById("section-dock");function N(){t.forEach(function(t){window.clearTimeout(t)}),(t=[]).push(window.setTimeout(function(){x.classList.add("is-idle-fade-1")},e)),t.push(window.setTimeout(function(){x.classList.remove("is-idle-fade-1"),x.classList.add("is-idle-fade-2")},n))}function E(){x.classList.remove("is-idle-fade-1"),x.classList.remove("is-idle-fade-2"),N()}function L(t){x.classList.toggle("is-scroll-compact",!!t)}function A(t){return t&&!t.classList.contains("section-mode-hidden")}function I(n){var t;i&&s[n]&&(Object.keys(s).forEach(function(t){var e=s[t],t=t===n;e.classList.toggle("section-mode-hidden",!t),e.setAttribute("aria-hidden",String(!t))}),t="about"===n,l&&(l.classList.toggle("section-mode-hidden",!t),l.setAttribute("aria-hidden",String(!t))),c&&(c.classList.toggle("section-mode-hidden",!t),c.setAttribute("aria-hidden",String(!t))),t="news"===n,d&&(d.classList.toggle("section-mode-hidden",!t),d.setAttribute("aria-hidden",String(!t))),u&&(u.classList.toggle("section-mode-hidden",!t),u.setAttribute("aria-hidden",String(!t))))}function B(e){r.forEach(function(t){t.classList.toggle("is-active",t.getAttribute("data-target")===e)})}function S(t,e){var n;("about"===(n=t)?m:"research"===n?p:"news"===n?w:[]).forEach(function(t){t.classList.toggle("is-active",t.getAttribute("data-target")===e)}),"about"!==t&&m.forEach(function(t){t.classList.remove("is-active")}),"research"!==t&&p.forEach(function(t){t.classList.remove("is-active")}),"news"!==t&&w.forEach(function(t){t.classList.remove("is-active")})}function k(t){t&&(t.style.left="",t.style.right="")}function C(t){var e,n,i,a={about:g,research:f,news:h}[t],t=o[t];a&&t&&a.classList.contains("is-visible")?(e=x.getBoundingClientRect(),t=t.getBoundingClientRect(),n=a.offsetWidth,e.width&&n?(t=t.left-e.left+t.width/2-n/2,t=(i=e.width-n-6)<=6?Math.max((e.width-n)/2,0):Math.min(Math.max(t,6),i),a.style.left=t+"px",a.style.right="auto"):k(a)):k(a)}function F(t,e){var e="boolean"==typeof e?e:"about"===t||"research"===t||"news"===t,n=(x.classList.toggle("is-compact",e),e&&"about"===t&&0<m.length),i=e&&"research"===t&&0<p.length,t=e&&"news"===t&&0<w.length;g&&(g.classList.toggle("is-visible",n),g.setAttribute("aria-hidden",String(!n)),n||k(g)),f&&(f.classList.toggle("is-visible",i),f.setAttribute("aria-hidden",String(!i)),i||k(f)),h&&(h.classList.toggle("is-visible",t),h.setAttribute("aria-hidden",String(!t)),t||k(h)),n?C("about"):i?C("research"):t&&C("news"),e||S("","")}function D(t,e,n){n=n||"smooth";"landing"===t?e.scrollIntoView({behavior:n,block:"start"}):(t=window.matchMedia&&window.matchMedia("(max-width: 47.99em)").matches?14:26,e=window.pageYOffset+e.getBoundingClientRect().top-t,window.scrollTo({top:Math.max(e,0),behavior:n}))}function P(t){if(!t.length)return"";var n=.35*window.innerHeight,i=t[0].getAttribute("data-target"),a=Number.POSITIVE_INFINITY;return t.forEach(function(t){var t=t.getAttribute("data-target"),e=document.getElementById(t);e&&A(e)&&((e=(e=e.getBoundingClientRect()).top<=n&&e.bottom>=n?0:Math.abs(e.top-n))<a&&(a=e,i=t))}),i}function T(t,e,n,i){if(t&&e&&A(t)&&A(e))return i="number"==typeof i?i:0,n=window.pageYOffset+window.innerHeight*("number"==typeof n?n:.35),t=t.getBoundingClientRect().top+window.pageYOffset,e=e.getBoundingClientRect().bottom+window.pageYOffset+i,t<=n&&n<=e}function z(){M||(M=!0,window.requestAnimationFrame(function(){n=.35*window.innerHeight,i=r[0].getAttribute("data-target"),a=Number.POSITIVE_INFINITY,r.forEach(function(t){var t=t.getAttribute("data-target"),e=document.getElementById(t);e&&A(e)&&((e=(e=e.getBoundingClientRect()).top<=n&&e.bottom>=n?0:Math.abs(e.top-n))<a&&(a=e,i=t))});var n,i,a,t=i,e="",o=c&&A(c)?c:l&&A(l)?l:s.about,o=(s.about&&T(s.about,o,.34)?e="about":s.research&&T(s.research,s.research)?e="research":(o=u&&A(u)?u:d&&A(d)?d:s.news,s.news&&T(s.news,o,.3,.06*window.innerHeight)&&(e="news")),"about"===(e=e||"about"!==t&&"research"!==t&&"news"!==t?e:t)||"research"===e||"news"===e?e:t);B(o),F(e,"landing"!==o),"about"===e?S("about",P(m)):"research"===e?S("research",P(p)):"news"===e?S("news",P(w)):S("",""),M=!1}))}!x||(r=Array.prototype.slice.call(x.querySelectorAll(".section-dock-link"))).length&&(o={},r.forEach(function(t){o[t.getAttribute("data-target")]=t}),s={about:document.getElementById("about"),research:document.getElementById("research"),news:document.getElementById("news")},l=document.getElementById("timeline"),c=document.getElementById("coffee"),d=document.getElementById("journal-club"),u=document.getElementById("blog"),i="true"===x.getAttribute("data-mode-toggle")&&!(!s.research||!s.news),g=document.getElementById("dock-context-about"),f=document.getElementById("dock-context-research"),h=document.getElementById("dock-context-news"),m=g?Array.prototype.slice.call(g.querySelectorAll(".dock-context-link")):[],p=f?Array.prototype.slice.call(f.querySelectorAll(".dock-context-link")):[],w=h?Array.prototype.slice.call(h.querySelectorAll(".dock-context-link")):[],t=[],e=3800,n=9500,a=window.pageYOffset||window.scrollY||0,y=10,r.forEach(function(n){n.addEventListener("click",function(t){t.preventDefault();var t=n.getAttribute("data-view"),e=(t&&I(t),n.getAttribute("data-target")),t=(!t&&i&&"about"===e&&I("about"),document.getElementById(e));t&&A(t)&&(D(e,t),B(e),t="","about"===e?t="about":"research"===e?t="research":"news"===e&&(t="news"),F(t,"landing"!==e),"about"===t?S("about","about"):"research"===t?S("research",p.length?p[0].getAttribute("data-target"):""):"news"===t?S("news","news"):S("",""),window.history&&window.history.replaceState&&window.history.replaceState(null,"","#"+e))})}),m.concat(p).concat(w).forEach(function(i){i.addEventListener("click",function(t){t.preventDefault();var t=i.getAttribute("data-context")||"",e=i.getAttribute("data-target"),n=document.getElementById(e);t&&I(t),n&&A(n)&&(D(e,n),F(t,!0),S(t,e),B("about"===t?"about":"research"===t?"research":"news"),window.history&&window.history.replaceState&&window.history.replaceState(null,"","#"+e))})}),b=window.location.hash.replace("#",""),i&&(-1!==["news","journal-club","blog"].indexOf(b)?(I("news"),F("news",!0),S("news","journal-club"===b?"journal-club":"blog"===b?"blog":"news"),B("news")):-1!==["research","projects","publications"].indexOf(b)?(I("research"),F("research",!0),S("research","research"===b?p.length?p[0].getAttribute("data-target"):"":b),B("research")):-1!==["about","timeline","coffee"].indexOf(b)?(I("about"),F("about",!0),S("about","timeline"===b?"timeline":"coffee"===b?"coffee":"about"),B("about")):(v=document.getElementById(b),F("",v=""!==b&&"landing"!==b&&!!v),v||S("",""))),b&&window.requestAnimationFrame(function(){var t=document.getElementById(b);t&&A(t)&&D(b,t,"auto")}),M=!1,window.addEventListener("scroll",function(){var t,e;t=window.pageYOffset||window.scrollY||0,e=t-a,t<=8?L(!1):y<e?L(!0):e<-y&&L(!1),a=t,E(),z()},{passive:!0}),window.addEventListener("resize",z),a=window.pageYOffset||window.scrollY||0,L(!1),E(),z())}function initCoffeeWallLayout(){var o=document.getElementById("coffee-wall-grid");if(o){var t=Array.prototype.slice.call(o.querySelectorAll(".coffee-stamp"));if(t.length){var e=null,n=[];t.forEach(function(t){!e&&t.classList.contains("is-winner")?e=t:n.push(t)});for(var i=n.length-1;0<i;--i){var a=Math.floor(Math.random()*(i+1)),r=n[i];n[i]=n[a],n[a]=r}var s,l=n.slice(),c=(e&&(s=Math.floor(l.length/2),l.splice(s,0,e)),!1);t.forEach(function(t){t=t.querySelector(".coffee-stamp-img");t&&(t.complete&&t.naturalWidth?u():(t.addEventListener("load",u),t.addEventListener("error",u)))}),window.addEventListener("resize",u,{passive:!0}),window.addEventListener("orientationchange",u,{passive:!0}),window.setTimeout(u,40),window.setTimeout(u,220),window.setTimeout(u,520)}}function y(t,e,n){for(var i=t[e],a=e+1;a<e+n;a+=1)t[a]>i&&(i=t[a]);return i}function d(){var t=window.getComputedStyle(o),e=parseFloat(t.fontSize)||16,h=(n=t,a=parseInt(n.getPropertyValue("--coffee-columns"),10),isFinite(a)&&0<a?Math.min(a,6):(a=(a=n.getPropertyValue("grid-template-columns")||"").trim())&&"none"!==a?Math.min(a.split(/\s+/).length,6):4),m=function(t,e){if(!t)return NaN;var n=parseFloat(t);return isFinite(n)?-1<t.indexOf("rem")?n*(parseFloat(window.getComputedStyle(document.documentElement).fontSize)||16):-1<t.indexOf("em")?n*(e||16):n:NaN}(t.getPropertyValue("--coffee-gap"),e),n=(isFinite(m)||(m=parseFloat(t.columnGap)),isFinite(m)||(m=parseFloat(t.rowGap)),isFinite(m)||(m=12),(!h||h<1)&&(h=1),o.clientWidth);if(n){var p=(n-m*(h-1))/h;if(0<p){for(var w=[],i=0;i<h;i+=1)w.push(0);o.classList.add("coffee-wall-grid--masonry"),l.forEach(function(t){var e=t.querySelector(".coffee-stamp-img");if(e){var n=t.classList.contains("is-winner"),i=n&&5<=h?2:1,i=Math.min(i,h),a=p*i+m*(i-1),o=n&&1<i?.75:1,r=a*o;t.style.width=r+"px",t.style.gridRowEnd="";var s=r*(e.naturalWidth?e.naturalHeight/e.naturalWidth:1),e=t.getBoundingClientRect().height||e.getBoundingClientRect().height||s,e=0<e?e:s,l=0,c=Number.POSITIVE_INFINITY;if(n&&1<i)l=Math.max(0,Math.floor((h-i)/2)),c=y(w,l,i);else for(var d=0;d<=h-i;d+=1){var u=y(w,d,i);u<c&&(c=u,l=d)}for(var s=l*(p+m),n=(o<1&&(s+=(a-r)/2),isFinite(c)?c:0),g=(t.style.left=s+"px",t.style.top=n+"px",n+e+m),f=l;f<l+i;f+=1)w[f]=g}});var a=w.length?Math.max.apply(null,w):0;o.style.height=Math.max(0,a-m)+"px"}}}function u(){c||(c=!0,window.requestAnimationFrame(function(){c=!1,d()}))}}function sortNewsFeedByDate(){var t,e=document.getElementById("combined-news-feed");!e||(t=Array.prototype.slice.call(e.querySelectorAll(".news-item"))).length&&(t.sort(function(t,e){t=parseInt(t.getAttribute("data-news-date"),10)||0;return(parseInt(e.getAttribute("data-news-date"),10)||0)-t}),t.forEach(function(t){e.appendChild(t)}),initNewsFeedPagination(e,t))}function initNewsFeedPagination(t,e){var n=document.getElementById("news-load-more");if(n){var i=document.getElementById("news-source-filters"),a=i?Array.prototype.slice.call(i.querySelectorAll("[data-news-filter]")):[],o=document.getElementById("news-search-input"),r=e&&e.length?e:Array.prototype.slice.call(t.querySelectorAll(".news-item"));if(!r.length)return n.classList.add("news-load-more-hidden"),void n.setAttribute("aria-hidden","true");var s=5,l="all",c="",d=Math.min(s,r.length),u=new Map;n.addEventListener("click",function(t){t.preventDefault(),d=Math.min(f().length,d+10),m()}),a.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-news-filter")||"all";l=t,p(),h(),m()})}),o&&o.addEventListener("input",function(){w(o.value)}),h(),m()}function g(t){var e=c?c.split(" ").filter(Boolean):[];if(!e.length)return!0;var n=function(t){if(u.has(t))return u.get(t);var e=String(t.textContent||"").toLowerCase().replace(/\s+/g," ").trim();return u.set(t,e),e}(t);return e.every(function(t){return-1!==n.indexOf(t)})}function f(){return r.filter(function(t){return("all"===l||t.getAttribute("data-news-source")===l)&&g(t)})}function h(){a.forEach(function(t){var e=t.getAttribute("data-news-filter")===l;t.classList.toggle("is-active",e),t.setAttribute("aria-pressed",String(e))})}function m(){var t=f(),t=(r.forEach(function(t){t.classList.add("news-item-hidden")}),t.forEach(function(t,e){t.classList.toggle("news-item-hidden",d<=e)}),d<t.length);n.classList.toggle("news-load-more-hidden",!t),n.setAttribute("aria-hidden",String(!t))}function p(){d=Math.min(s,f().length)}function w(t){c=String(t||"").toLowerCase().replace(/\s+/g," ").trim(),p(),m()}}function sortJournalClubFeedByDate(){var t,e=document.getElementById("journal-club-feed");!e||(t=Array.prototype.slice.call(e.querySelectorAll(".journal-item"))).length&&(t.sort(function(t,e){t=parseInt(t.getAttribute("data-journal-date"),10)||0;return(parseInt(e.getAttribute("data-journal-date"),10)||0)-t}),t.forEach(function(t){e.appendChild(t)}),initJournalClubPagination(e,t))}function initJournalClubPagination(t,e){var n=document.getElementById("journal-load-more");if(n){var i=document.getElementById("journal-source-filters"),a=i?Array.prototype.slice.call(i.querySelectorAll("[data-journal-filter]")):[],o=document.getElementById("journal-search-input"),r=e&&e.length?e:Array.prototype.slice.call(t.querySelectorAll(".journal-item"));if(!r.length)return n.classList.add("news-load-more-hidden"),void n.setAttribute("aria-hidden","true");var s=5,l="all",c="",d=Math.min(s,r.length),u=new Map;n.addEventListener("click",function(t){t.preventDefault(),d=Math.min(f().length,d+10),m()}),a.forEach(function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-journal-filter")||"all";l=t,p(),h(),m()})}),o&&o.addEventListener("input",function(){w(o.value)}),h(),m()}function g(t){var e=c?c.split(" ").filter(Boolean):[];if(!e.length)return!0;var n=function(t){if(u.has(t))return u.get(t);var e=String(t.textContent||"").toLowerCase().replace(/\s+/g," ").trim();return u.set(t,e),e}(t);return e.every(function(t){return-1!==n.indexOf(t)})}function f(){return r.filter(function(t){return("all"===l||t.getAttribute("data-journal-source")===l)&&g(t)})}function h(){a.forEach(function(t){var e=t.getAttribute("data-journal-filter")===l;t.classList.toggle("is-active",e),t.setAttribute("aria-pressed",String(e))})}function m(){var t=f(),t=(r.forEach(function(t){t.classList.add("news-item-hidden")}),t.forEach(function(t,e){t.classList.toggle("news-item-hidden",d<=e)}),d<t.length);n.classList.toggle("news-load-more-hidden",!t),n.setAttribute("aria-hidden",String(!t))}function p(){d=Math.min(s,f().length)}function w(t){c=String(t||"").toLowerCase().replace(/\s+/g," ").trim(),p(),m()}}function initLogoRain(){var c,n,i,a,o,r,d,u,t=document.getElementById("landing");function e(t,e,n,i,a){for(var o=[],r=n;r<=i;r+=1){var s=("000"+r).slice(-3);o.push(t+e+"-"+s+"."+a)}return o}function s(t){if(!0===o.forceBirthday)return r.windows[0]||null;if(!1===o.forceBirthday)return null;for(var e=t.getMonth(),n=t.getDate(),i=0;i<r.windows.length;i+=1){var a=r.windows[i];if(e===a.month&&n>=a.startDay&&n<=a.endDay)return a}return null}function l(){var t,e;n&&(t=s(new Date),n.classList.toggle("is-visible",e=!!t),n.setAttribute("aria-hidden",String(!e)),i&&i.classList.toggle("is-visible",e),a&&(t&&t.caption?a.textContent=t.caption:r.windows.length&&(a.textContent=r.windows[0].caption)))}function g(){t=new Date;var t=o.forceSeason||(2<=(t=t.getMonth())&&t<=4?"spring":5<=t&&t<=7?"summer":8<=t&&t<=10?"autumn":"winter"),e=d.seasonalProfiles[t]||d.seasonalProfiles.winter;return{season:t,logoWeight:e.logoWeight,pools:e.pools||[]}}function f(t,e){return t+Math.random()*(e-t)}function h(){var t=g(),e=[],n=(0<t.logoWeight&&e.push({kind:"logo",weight:t.logoWeight,srcs:d.logos}),t.pools.forEach(function(t){t&&t.srcs&&t.srcs.length&&((t.weight||0)<=0||e.push(t))}),function(t){var e=0;if(t.forEach(function(t){e+=Math.max(0,t.weight||0)}),e<=0)return null;for(var n=Math.random()*e,i=0;i<t.length;i+=1)if((n-=Math.max(0,t[i].weight||0))<=0)return t[i];return t[t.length-1]}(e));return n&&n.srcs&&n.srcs.length?{kind:n.kind,src:n.srcs[Math.floor(Math.random()*n.srcs.length)],season:t.season}:{kind:"logo",src:d.logos[Math.floor(Math.random()*d.logos.length)],season:t.season}}function m(t){var e,n,i,a,o,r,s,t=t||h();function l(){s||(s=!0,e.remove(),u=Math.max(0,u-1))}t&&t.src&&((e=document.createElement("span")).className="logo-rain-drop","logo"===t.kind?(e.style.backgroundColor=d.color,e.style.color=d.color,n=d.sizeMultiplierByLogo[t.src]||1,n=f(d.sizeMin,d.sizeMax)*n,i=f(d.opacityMin,d.opacityMax),a=f(d.durationMin,d.durationMax),o=f(d.driftMin,d.driftMax),e.style.backgroundImage='url("'+t.src+'")',e.style.webkitMaskImage='url("'+t.src+'")',e.style.maskImage='url("'+t.src+'")'):(r=t.kind,r=d.particleStyles[r]||d.particleStyles.snow,e.style.backgroundColor="transparent",e.style.color="transparent",n=f(r.sizeMin,r.sizeMax),i=f(r.opacityMin,r.opacityMax),a=f(r.durationMin,r.durationMax),o=f(r.driftMin,r.driftMax),e.style.backgroundImage='url("'+t.src+'")',e.style.webkitMaskImage="none",e.style.maskImage="none","birthdayBalloon"===t.kind?e.classList.add("logo-rain-drop--rising"):e.classList.add("logo-rain-drop--snowflake")),e.style.left=f(0,100)+"%",e.style.width=n.toFixed(2)+"px",e.style.height=n.toFixed(2)+"px",e.style.opacity=i.toFixed(2),e.style.animationDuration=a.toFixed(0)+"ms",e.style.setProperty("--logo-drift",o.toFixed(2)+"px"),e.style.setProperty("--logo-drift-quarter",(.25*o).toFixed(2)+"px"),e.style.setProperty("--logo-drift-mid",(.5*o).toFixed(2)+"px"),e.style.setProperty("--logo-drift-three-quarter",(.75*o).toFixed(2)+"px"),c.appendChild(e),u+=1,s=!1,e.addEventListener("animationend",l,{once:!0}),setTimeout(l,a+500))}t&&((c=document.createElement("div")).className="logo-rain-layer",t.appendChild(c),n=document.getElementById("birthday-banner"),i=document.getElementById("birthday-banner-img"),a=document.getElementById("birthday-banner-caption"),o={forceSeason:null,forceBirthday:null},r={windows:[{month:10,startDay:8,endDay:12,caption:"to me!"},{month:8,startDay:10,endDay:20,caption:"to my little one, Noah!"}],balloonProbability:.3,balloonSrcs:e("assets/img/seasons/birthday/balloons/","balloon",1,5,"webp")},d={logos:["assets/img/ms8logo.png","assets/img/UoHlogo.webp","assets/img/Dislogo.svg","assets/img/fulogo.png"],color:"#61B0B7",chancePerTick:.56,chancePerTickBySeason:{winter:.56,spring:.56,autumn:.56,summer:.56},tickMs:900,maxVisible:10,maxVisibleBySeason:{winter:10,spring:10,autumn:10,summer:10},sizeMin:30,sizeMax:66,opacityMin:.35,opacityMax:.75,durationMin:9e3,durationMax:17e3,driftMin:-22,driftMax:22,seasonalProfiles:{winter:{logoWeight:40,pools:[{kind:"snow",weight:60,srcs:function(t,e,n,i,a){for(var o=[],r=n;r<=i;r+=1)o.push(t+e+r+"."+a);return o}("assets/img/seasons/snow/","snow",0,5,"webp")}]},spring:{logoWeight:40,pools:[{kind:"cherryFlower",weight:30,srcs:e("assets/img/seasons/cherry_flowers/","flower",1,2,"webp")},{kind:"cherryPetal",weight:300,srcs:e("assets/img/seasons/cherry_petals/","petal",1,38,"webp")}]},autumn:{logoWeight:30,pools:[{kind:"autumnLeaf",weight:70,srcs:e("assets/img/seasons/autumn_leaves/","leaf",1,30,"webp")}]},summer:{logoWeight:100,pools:[]}},particleStyles:{snow:{sizeMin:30,sizeMax:52,opacityMin:.38,opacityMax:.72,durationMin:14e3,durationMax:24e3,driftMin:-22,driftMax:22},cherryFlower:{sizeMin:28,sizeMax:50,opacityMin:.42,opacityMax:.78,durationMin:11e3,durationMax:22e3,driftMin:-20,driftMax:20},cherryPetal:{sizeMin:12,sizeMax:24,opacityMin:.45,opacityMax:.88,durationMin:9e3,durationMax:19e3,driftMin:-26,driftMax:26},autumnLeaf:{sizeMin:24,sizeMax:48,opacityMin:.4,opacityMax:.8,durationMin:12e3,durationMax:22e3,driftMin:-24,driftMax:24},birthdayBalloon:{sizeMin:102,sizeMax:228,opacityMin:.58,opacityMax:.92,durationMin:13e3,durationMax:24e3,driftMin:-16,driftMax:16}},sizeMultiplierByLogo:{"assets/img/ms8logo.png":2,"assets/img/UoHlogo.webp":2,"assets/img/Dislogo.svg":2,"assets/img/fulogo.png":4}},u=0,l(),setInterval(function(){if(!document.hidden){l();var t=g(),e=d.maxVisibleBySeason[t.season]||d.maxVisible,t=d.chancePerTickBySeason[t.season];if("number"!=typeof t&&(t=d.chancePerTick),!(e<=u)&&Math.random()<t){if(s(new Date)&&r.balloonSrcs.length&&Math.random()<r.balloonProbability){e=r.balloonSrcs.length?{kind:"birthdayBalloon",src:r.balloonSrcs[Math.floor(Math.random()*r.balloonSrcs.length)]}:null;if(e)return void m(e)}m()}}},d.tickMs))}TxtRotate.prototype.tick=function(){var t=this.loopNum%this.toRotate.length,t=this.toRotate[t],e=(this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>",this),n=200-100*Math.random();this.isDeleting&&(n/=5),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,n=500):(n=this.period,this.isDeleting=!0),setTimeout(function(){e.tick()},n)};